<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>动画--监听过渡事件</title>
    <link rel="stylesheet" href="css/main.css">
    <script src="js/d3.v4.min.js" type="text/javascript" charset="utf-8"></script>
</head>
<body> 
  
</body>
<script type="text/javascript">
    var body = d3.select("body"), duration = 3000;
    var div = body.append("div")
            .classed("box", true)
            .style("background-color", "steelblue")
            .style("color", "white")
            .text("等待中") // <-A
        .transition().duration(duration) // <-B
                .delay(1000) // <-C
                .on("start", function(){ // <-D
                    console.log(arguments);
                    d3.select(this).text(function (d, i) {
                        return "动画中";
                    });
                })
                .on("end", function(){ // <-E
                    d3.select(this).text(function (d, i) {
                        return "已停止";
                    });
                })
            .style("margin-left", "600px");          
</script>
</html>