<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>动画-使用定时器</title>
    <link rel="stylesheet" href="css/main.css">
    <script src="js/d3.v4.min.js" type="text/javascript" charset="utf-8"></script>
</head>
<body> 
   <div class="control-group">
      <button onclick="countup(100)">
          Start
      </button>
      <button onclick="reset()">
          Clear
      </button>
  </div>
</body>
<script type="text/javascript">
        
    var body = d3.select("body");  
    var countdown = body.append("div").append("input");
    
    countdown.attr("type", "button")
        .attr("class", "countdown")
        .attr("value", "0"); // <-B
    function countup(target) {
       d3.timer(function() {
          var value= countdown.attr("value");
          if(value==target) return true;
          countdown.attr("value",++value);
       },5000,5000)
    }
    function reset(argument) {
       countdown.attr("value", "0");
    }         
</script>
</html>