<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>动画-选择性过渡</title>
    <link rel="stylesheet" href="css/main.css">
    <script src="js/d3.v4.min.js" type="text/javascript" charset="utf-8"></script>
</head>
<body> 
   
</body>
<script type="text/javascript">
     var data = ["Cat","Pig", "Dog", "Cat", "Dog", "Pig", "Cat", "Dog", "Cat", "Dog","Pig"],
        duration = 1500;
        

    d3.select("body").selectAll("div")
            .data(data)
        .enter()
        .append("div")
            .attr("class", "fixed-cell")
            .style("top", function (d, i) {
                return i * 40 + "px";
            })
            .style("background-color", "steelblue")
            .style("color", "white")
            .style("left", "500px")
            .text(function (d) {
                return d;
            })
            .transition() // <- A
                .duration(duration)
                    .style("left", "10px")
            .filter(function(d){return d == "Cat" || d == "Pig";}) // <- B
                .transition() // <- C
                .duration(duration)
                    .style("left", "500px")
            .filter(function(d){return d == "Pig";}) // <- B
                .transition() // <- C
                .duration(duration)
                    .style("left", "300px");                 
</script>
</html>